{"suite_name": "code_analysis", "description": "Code review, debugging, and technical analysis tasks", "task_type": "instruction_following", "version": "0.3.0"}
{"id": "CODE-001", "task": "debug", "prompt": "Find the bug in this Python code:\n\ndef calculate_average(numbers):\n    total = 0\n    for num in numbers:\n        total += num\n    return total / len(numbers)\n\nresult = calculate_average([])\nprint(result)\n\nWhat is the bug and how would you fix it? Answer in 2-3 sentences.", "expected": {"type": "contains", "required_words": ["division", "zero", "empty"]}, "scoring": {"method": "word_restriction"}, "tags": ["debug", "python", "edge_case"]}
{"id": "CODE-002", "task": "debug", "prompt": "This JavaScript code has a common async mistake. Identify it:\n\nasync function fetchUserData(userId) {\n    const response = fetch(`/api/users/${userId}`);\n    const data = response.json();\n    return data;\n}\n\nWhat's wrong? One sentence answer.", "expected": {"type": "contains", "required_words": ["await"]}, "scoring": {"method": "word_restriction"}, "tags": ["debug", "javascript", "async"]}
{"id": "CODE-003", "task": "review", "prompt": "Review this SQL query for potential issues:\n\nSELECT * FROM users WHERE username = '\" + userInput + \"' AND active = 1;\n\nWhat security vulnerability exists and what's the fix? Be concise.", "expected": {"type": "contains", "required_words": ["injection", "parameterized"]}, "scoring": {"method": "word_restriction"}, "tags": ["security", "sql", "review"]}
{"id": "CODE-004", "task": "explain", "prompt": "Explain what this regex does: ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$\n\nAnswer in one sentence.", "expected": {"type": "contains", "required_words": ["email"]}, "scoring": {"method": "word_restriction"}, "tags": ["regex", "explain"]}
{"id": "CODE-005", "task": "optimize", "prompt": "This Python code is inefficient. What's the time complexity issue?\n\ndef find_duplicates(lst):\n    duplicates = []\n    for i in range(len(lst)):\n        for j in range(i + 1, len(lst)):\n            if lst[i] == lst[j] and lst[i] not in duplicates:\n                duplicates.append(lst[i])\n    return duplicates\n\nWhat is the time complexity and how could it be improved? Brief answer.", "expected": {"type": "contains", "required_words": ["O(n", "set"]}, "scoring": {"method": "word_restriction"}, "tags": ["optimization", "complexity"]}
{"id": "CODE-006", "task": "debug", "prompt": "Find the off-by-one error:\n\ndef get_last_n_elements(arr, n):\n    return arr[len(arr) - n - 1:]\n\n# Test: get_last_n_elements([1,2,3,4,5], 3) should return [3,4,5]\n\nWhat's wrong?", "expected": {"type": "contains", "required_words": ["-1", "remove"]}, "scoring": {"method": "word_restriction"}, "tags": ["debug", "off-by-one"]}
{"id": "CODE-007", "task": "review", "prompt": "What's the memory issue in this C code?\n\nchar* create_string() {\n    char buffer[100];\n    strcpy(buffer, \"Hello World\");\n    return buffer;\n}\n\nOne sentence answer.", "expected": {"type": "contains", "required_words": ["stack", "local"]}, "scoring": {"method": "word_restriction"}, "tags": ["memory", "c", "review"]}
{"id": "CODE-008", "task": "convert", "prompt": "Convert this for loop to a list comprehension:\n\nresult = []\nfor x in range(10):\n    if x % 2 == 0:\n        result.append(x * 2)\n\nReturn only the list comprehension, nothing else.", "expected": {"type": "regex", "pattern": "\\[.*for.*in.*if.*\\]"}, "scoring": {"method": "regex_match"}, "tags": ["python", "conversion"]}
{"id": "CODE-009", "task": "explain", "prompt": "What design pattern is this?\n\nclass Database:\n    _instance = None\n    \n    def __new__(cls):\n        if cls._instance is None:\n            cls._instance = super().__new__(cls)\n        return cls._instance\n\nAnswer with just the pattern name.", "expected": {"type": "contains", "required_words": ["singleton"]}, "scoring": {"method": "word_restriction"}, "tags": ["design_patterns", "explain"]}
{"id": "CODE-010", "task": "debug", "prompt": "This React component has a common hook mistake:\n\nfunction Counter() {\n    const [count, setCount] = useState(0);\n    \n    useEffect(() => {\n        const interval = setInterval(() => {\n            setCount(count + 1);\n        }, 1000);\n        return () => clearInterval(interval);\n    }, []);\n    \n    return <div>{count}</div>;\n}\n\nWhy doesn't the counter increment correctly? One sentence.", "expected": {"type": "contains", "required_words": ["closure", "stale"]}, "scoring": {"method": "word_restriction"}, "tags": ["react", "hooks", "debug"]}
